<odoo>
  <data>



  <record model="ir.module.category" id="module_category_ams_bulletin">
      <field name="name">Bulletin User</field>
      <field name="description">Helps you manage your bulletin generating plannings, etc...</field>
      <field name="sequence">3</field>
  </record>

   <record id="group_ams_user" model="res.groups">
        <field name="name">Bulletin User</field>
        <field name="category_id" ref="module_category_ams_bulletin"/>
    </record>


    <record id="group_ams_manager" model="res.groups">
        <field name="name">Bulletin Manager</field>
        <field name="category_id" ref="module_category_ams_bulletin"/>
        <field name="implied_ids" eval="[(4, ref('group_ams_user'))]"/>
        <field name="users" eval="[(4, ref('base.user_root'))]"/>
    </record>

    <record model="ir.ui.view" id="ams_bulletin_tree">
      <field name="name">ams.bulletin.tree</field>
      <field name="model">ams.bulletin</field>
      <field name="arch" type="xml">
        <tree>
          <field name="name"/>
          <field name="subject"/>
        </tree>
      </field>
    </record>

    <record model="ir.ui.view" id="ams_bulletin_search_view">
        <field name="name">ams.bulletin.search</field>
        <field name="model">ams.bulletin</field>
        <field name="arch" type="xml">
            <search>
                <field name="name"/>
                <field name="subject"/>           
            </search>
        </field>
    </record>

    <record model="ir.ui.view" id="ams_bulletin_form">
        <field name="name">ams.bulletin.form</field>
        <field name="model">ams.bulletin</field>
        <field name="arch" type="xml">
            <form string="Modification">
              <header>
                <button name="get_check" string="Check" type="object"  class="oe_highlight" attrs="{'invisible':[('state','!=', 'create')]}" groups="ams_security.group_button_bulletin_check,ams_security.group_aircrraft_modification_managers"/>
                <button name="get_validate" string="Validate" type="object"  class="oe_highlight" attrs="{'invisible':[('state','!=', 'check')]}" groups="ams_security.group_button_bulletin_validate,ams_security.group_aircrraft_modification_managers"/>
                <field name="state" widget="statusbar" statusbar_visible="create,check,validate"/>
              </header>
                <sheet string="Modification">
                 <!--  <div class="oe_button_box" name="Merge">
                      <button name="toggle_merge_mp" type="object" class="oe_stat_button" icon="fa-check-square" >
                          <field name="merge_mp" widget="boolean_button" options='{"terminology": {
                              "string_true": "M",
                              "hover_true": "Switch to Not On Maintenance Planning",
                              "string_false": "Not On Maintenance Planning",
                              "hover_false": "Switch to On Maintenance Planning"
                          }}'/>
                      </button>
                  </div> -->
                    <group>
                    <div class="oe_title">
                        <label for="name" string="AD number" attrs="{'invisible':[('type','!=','AD')]}"/>
                        <label for="name" string="SB number" attrs="{'invisible':[('type','!=','SB')]}"/>
                        <label for="name" string="STC number" attrs="{'invisible':[('type','!=','STC')]}"/>

                        <h1>
                            <field name="name"/>
                        </h1>
                    </div>
                  </group>
                    <group>
                      <field name="id" attrs="{'invisible':True}"/>
                      <field name="repetitive" attrs="{'readonly':[('id','!=',False)]}"/>
                      <h3 style="color:red" attrs="{'invisible':['|',('repetitive','!=',True),('id','!=',False)]}" >*Please save to add recurrence</h3>
                    </group>

                    <group attrs="{'invisible':['|',('repetitive','!=',True),('id','==',False)]}">
                        <field name="service_life_id" string='Repetitive Every' attrs="{'required':[('repetitive','=',True)]}"  context="{'only_bulletin': True}">
                          <form string="Service Life">
        					          <sheet>
        					            <group>
        					              <field name="id" attrs="{'invisible':True}"/>
        					              <field name="bulletin_inspection_id" attrs="{'invisible':True}"/>
        					              <field name="current" default="0" attrs="{'invisible':True}"/>
        					              <field name="value"/>
        					              <field name="unit"/>
        					              <field name="comments"/>
        					              <field name="current_text" attrs="{'invisible':True}"/>
        					              <field name="next_text" attrs="{'invisible':True}"/>
        					            </group>
        					            <group>
        						              <field name="reset_other"/>
        						              <field name="other_service_live" attrs="{'invisible':['&amp;',('other_service_live','==',[]),('reset_other','=',False)]}" context="{'bulletin_inspection_id':bulletin_inspection_id,'service_life_id':id}">
        						              		<tree string='Service Life' editable="bottom">
        						              			<field name="service_life_reset_id" options="{'no_create': True, 'no_create_edit':True}" domain="['&amp;',('id','!=',context.get('service_life_id',False)),('bulletin_inspection_id','=',context.get('bulletin_inspection_id',False))]"/>
        						              		</tree>
        						          	  </field>
        								      </group>
        					          </sheet>
        					        </form>

                          <tree string='Repetitive Every'>
                            <!-- <field name="current_text" attrs="{'readonly':True}"/> -->
                            <!-- <field name="current_display"/> -->
                            <field name="value" attrs="{'required':True}"/>
                            <!-- <field name="extension" attrs="{'readonly':True}"/> -->
                            <!-- <field name="next_text" attrs="{'readonly':True}"/> -->
                            <!-- <field name="remaining_display"/> -->
                            <field name="unit"/>
                            <field name="comments_text"/>
                          </tree>
                        </field>
                  </group>
                    <!-- <group col="3">
                      <field name="repetitive_value" attrs="{'invisible':[('repetitive','!=',True)],'readonly':[('id','!=',False)]}"/>
                      <field name="repetitive_every" nolabel="1" attrs="{'invisible':[('repetitive','!=',True)],'readonly':[('id','!=',False)]}"/>
                    </group> -->
                    
                    <group>
                        <group row="4">
                            <!-- <field name="file"/> -->
                            <field name="file_name" invisible="1"/>
                            <field name="file" filename="file_name" widget="document"/>
                            <field name="type" attrs="{'invisible':True}"/>
                            <field name="document_type_id" attrs="{'invisible':['|',('type','=','AD'),('type','=','STC')]}"/>
                            <field name="status" attrs="{'readonly':[('type','=','AD')]}"/>
                            <field name="date"/>
                            
                            <div>
                                <label class="gi_custom_label" for="bulletin_of" string="AD For" attrs="{'invisible':[('type','!=','AD')]}"/>
                                <label class="gi_custom_label" for="bulletin_of" string="SB For" attrs="{'invisible':[('type','!=','SB')]}"/>
                                <label class="gi_custom_label" for="bulletin_of" string="STC For" attrs="{'invisible':[('type','!=','STC')]}"/>
                            </div>
                            <field class="gi_custom_input" name="bulletin_of" required="1" nolabel="1"/>
                            

                            <field name="fleet_id" widget="many2many_tags" options="{'no_create_edit': True}" attrs="{'invisible':[('bulletin_of','!=','fleet')]}">
                              <tree editable="bottom">
                                <field name="name"/>
                              </tree>
                            </field>
                            <field name="engine_id" widget="many2many_tags" options="{'no_create_edit': True}" attrs="{'invisible':[('bulletin_of','!=','engine')]}">
                              <tree editable="bottom">
                                <field name="name"/>
                              </tree>
                            </field>
                            <field name="auxiliary_id" widget="many2many_tags" attrs="{'invisible':[('bulletin_of','!=','auxiliary')]}">
                              <tree editable="bottom">
                                <field name="name"/>
                              </tree>
                            </field>
                            <field name="propeller_id" attrs="{'invisible':[('bulletin_of','!=','propeller')]}"/>
                            <field name="product_id" attrs="{'invisible':[('bulletin_of','!=','component')]}"/>

                            <field name="aff_msn" string="Affected MSN" attrs="{'invisible':['|',('bulletin_of','=','component'),('type','=','STC')]}"/>
                            <!-- <field name="aff_sn" attrs="{'invisible':['|',('bulletin_of','=','component'),('type','=','STC')]}"/> -->
                            <field name="aff_pn" attrs="{'invisible':[('bulletin_of','!=','component')]}"/>
                            <field name="aff_sn" attrs="{'invisible':[('bulletin_of','!=','component')]}"/>


                            <field name="bulletin_line" attrs="{'invisible':[('bulletin_line','=',[])]}"/>
                            

                            <field name="comply_before"/>
                            <field name="merge_mp" invisible="0"/>
                        </group>
                        <group row="4">
                            <field name="bulletin_id" attrs="{'invisible':[('type','!=','AD')]}"/>
                            <field name="vendor_id" attrs="{'invisible':[('type','!=','SB')]}"/>
                            <field name="manufacturer_id" attrs="{'invisible':[('type','!=','SB')]}"/>
                            <field name="regulator_id" attrs="{'invisible':[('type','!=','AD')]}"/>
                            <!-- <field name="ata_code"/> -->
                            <!-- <field name="desc"/> -->
                            <field name="subject"/>
                            <!-- <field name="create_wo"/> -->
                            <field name="remarks"/>
                            <field name="limit_"/>
                            
                            <field name="is_supersedes" class="oe_inline" attrs="{'readonly':[('id','!=',False)],'invisible':[('type','in',['STC','SERVICE'])]}"/>
                            <field name="supersedes_id" class="oe_inline" attrs="{'invisible':[('is_supersedes','!=',True)],'readonly':[('id','!=',False)]}" string="Bulletin Number" domain="[('type','=',type)]"/>
                            <field name="superseded_id" attrs="{'invisible':[('superseded_id','in',['', False, ' '])],'readonly':True}"/>
                            

                            <field name="comply_date" attrs="{'invisible':[('limit_','!=', 1)]}"/>
                            <field name="Compliance_cycle" attrs="{'invisible':[('limit_','!=', 2)]}"/>
                            <field name="Compliance_hour" attrs="{'invisible':[('limit_','!=', 3)]}"/>
                            </group>
                      </group>
                      <group>
                            <field name="fleet_ids"  attrs="{'invisible':[('bulletin_of','!=', 'fleet')]}">
                                <form string="Affected Aircraft">
                                  <sheet>
                                    <group>
                                      <field name="fleet_id" required="1"/>
                                      <field name="service_life_id">
                                        <tree string='Service Life'>
                                          <!-- <field name="action_type"/> -->
                                          <!-- <field name="ref_id" attrs="{'invisible':True}"/> -->
                                          <field name="current_text" attrs="{'readonly':True}"/>
                                          <!-- <field name="current_display"/> -->
                                          <field name="value" attrs="{'required':True}"/>
                                          <field name="extension" attrs="{'readonly':True}"/>
                                          <field name="next_text" attrs="{'readonly':True}"/>
                                          <!-- <field name="remaining_display"/> -->
                                          <field name="unit"/>
                                          <field name="comments"/>
                                          <button name="do_ste" type="object" string="STE" class="oe_highlight" attrs="{'invisible':[('extension','!=',0)]}"/>
                                          <button name="comply" string="Comply" type="object" class="oe_button_box" help="comply for this aircraft" attrs="{'invisible':[('id','=',False)]}"/>
                                        </tree>
                                      </field>
                                      <field name="comply_status" readonly="0"/>
                                      <field name="last_comply_hour" />
                                      <field name="last_comply_cycle" />
                                      <field name="last_comply_date" />
                                      <field name="remark" />
                                    </group>
                                  </sheet>
                                </form>
                                <tree string='Affected Aircraft'>
                                    <field name="id" invisible="1"/>
                                    <field name="fleet_id" required="1"/>
                                    <field name="comply_status" attrs="{'readonly':True}"/>
                                    <field name="comply_with" attrs="{'readonly':True}"/>
                                </tree>
                            </field>
                            <field name="engine_ids"  attrs="{'invisible':[('bulletin_of','!=', 'engine')]}">
                                <tree string='Affected Engine'>
                                    <field name="id" invisible="1"/>
                                    <field name="engine_id" required="1"/>
                                    <field name="comply_status" attrs="{'readonly':True}"/>
                                    <field name="comply_with" attrs="{'readonly':True}"/>
                                </tree>
                                <form string="Affected Engine">
                                  <sheet>
                                  <group>                                  
                                    <field name="engine_id" required="1"/>
                                    <field name="service_life_id">
                                      <tree string='Service Life'>
                                        <!-- <field name="action_type"/> -->
                                        <!-- <field name="ref_id" attrs="{'invisible':True}"/> -->
                                        <field name="current_text" attrs="{'readonly':True}"/>
                                        <!-- <field name="current_display"/> -->
                                        <field name="value" attrs="{'required':True}"/>
                                        <field name="extension" attrs="{'readonly':True}"/>
                                        <field name="next_text" attrs="{'readonly':True}"/>
                                        <!-- <field name="remaining_display"/> -->
                                        <field name="unit"/>
                                        <field name="comments"/>
                                        <button name="do_ste" type="object" string="STE" class="oe_highlight" attrs="{'invisible':[('extension','!=',0)]}"/>
                                        <button name="comply" string="Comply" type="object" class="oe_button_box" help="comply for this aircraft" attrs="{'invisible':[('id','=',False)]}"/>
                                      </tree>
                                    </field>
                                    <field name="comply_status" readonly="0"/>
                                    <field name="last_comply_hour" />
                                    <field name="last_comply_cycle" />
                                    <field name="last_comply_date" />
                                    <field name="remark" />
                                  </group>
                                  </sheet>
                                </form>
                            </field>
                            <field name="auxiliary_ids"  attrs="{'invisible':[('bulletin_of','!=', 'auxiliary')]}">
                                <tree string='Affected Auxiliary'>
                                    <field name="id" invisible="1"/>
                                    <field name="auxiliary_id" required="1"/>
                                    <field name="comply_status" attrs="{'readonly':True}"/>
                                    <field name="comply_with" attrs="{'readonly':True}"/>
                                </tree>

                                <form string="Affected Auxiliary">
                                  <sheet>
                                  <group>                                  
                                    <field name="auxiliary_id" required="1"/>
                                    <field name="service_life_id">
                                      <tree string='Service Life'>
                                        <!-- <field name="action_type"/> -->
                                        <!-- <field name="ref_id" attrs="{'invisible':True}"/> -->
                                        <field name="current_text" attrs="{'readonly':True}"/>
                                        <!-- <field name="current_display"/> -->
                                        <field name="value" attrs="{'required':True}"/>
                                        <field name="extension" attrs="{'readonly':True}"/>
                                        <field name="next_text" attrs="{'readonly':True}"/>
                                        <!-- <field name="remaining_display"/> -->
                                        <field name="unit"/>
                                        <field name="comments"/>
                                        <button name="do_ste" type="object" string="STE" class="oe_highlight" attrs="{'invisible':[('extension','!=',0)]}"/>
                                        <button name="comply" string="Comply" type="object" class="oe_button_box" help="comply for this aircraft" attrs="{'invisible':[('id','=',False)]}"/>
                                      </tree>
                                    </field>
                                    <field name="comply_status" readonly="0"/>
                                    <field name="last_comply_hour" />
                                    <field name="last_comply_cycle" />
                                    <field name="last_comply_date" />
                                    <field name="remark" />
                                  </group>
                                  </sheet>
                                </form>
                            </field>
                            <field name="propeller_ids"  attrs="{'invisible':[('bulletin_of','!=', 'propeller')]}">
                                <tree string='Affected Propeller'>
                                    <field name="id" invisible="1"/>
                                    <field name="propeller_id" required="1"/>
                                    <field name="comply_status" attrs="{'readonly':True}"/>
                                    <field name="comply_with" attrs="{'readonly':True}"/>
                                </tree>

                                <form string="Affected Propeller">
                                  <sheet>
                                  <group>                                  
                                    <field name="propeller_id" required="1"/>
                                    <field name="service_life_id">
                                      <tree string='Service Life'>
                                        <!-- <field name="action_type"/> -->
                                        <!-- <field name="ref_id" attrs="{'invisible':True}"/> -->
                                        <field name="current_text" attrs="{'readonly':True}"/>
                                        <!-- <field name="current_display"/> -->
                                        <field name="value" attrs="{'required':True}"/>
                                        <field name="extension" attrs="{'readonly':True}"/>
                                        <field name="next_text" attrs="{'readonly':True}"/>
                                        <!-- <field name="remaining_display"/> -->
                                        <field name="unit"/>
                                        <field name="comments"/>
                                        <button name="do_ste" type="object" string="STE" class="oe_highlight" attrs="{'invisible':[('extension','!=',0)]}"/>
                                        <button name="comply" string="Comply" type="object" class="oe_button_box" help="comply for this aircraft" attrs="{'invisible':[('id','=',False)]}"/>
                                      </tree>
                                    </field>
                                    <field name="comply_status" readonly="0"/>
                                    <field name="last_comply_hour" />
                                    <field name="last_comply_cycle" />
                                    <field name="last_comply_date" />
                                    <field name="remark" />
                                  </group>
                                  </sheet>
                                </form>
                            </field>
                            <field name="component_ids"  attrs="{'invisible':[('bulletin_of','!=', 'component')]}">
                                <tree string='Affected Component'>
                                    <field name="id" invisible="1"/>
                                    <field name="component_id" required="1"/>
                                    <field name="comply_status" attrs="{'readonly':True}"/>
                                    <field name="comply_with" attrs="{'readonly':True}"/>
                                </tree>

                                <form string="Affected Component">
                                  <sheet>
                                  <group>
                                    <field name="component_id" required="1"/>
                                    <field name="service_life_id">
                                      <tree string='Service Life'>
                                        <!-- <field name="action_type"/> -->
                                        <!-- <field name="ref_id" attrs="{'invisible':True}"/> -->
                                        <field name="current_text" attrs="{'readonly':True}"/>
                                        <!-- <field name="current_display"/> -->
                                        <field name="value" attrs="{'required':True}"/>
                                        <field name="extension" attrs="{'readonly':True}"/>
                                        <field name="next_text" attrs="{'readonly':True}"/>
                                        <!-- <field name="remaining_display"/> -->
                                        <field name="unit"/>
                                        <field name="comments"/>
                                        <button name="do_ste" type="object" string="STE" class="oe_highlight" attrs="{'invisible':[('extension','!=',0)]}"/>
                                        <button name="comply" string="Comply" type="object" class="oe_button_box" help="comply for this aircraft" attrs="{'invisible':[('id','=',False)]}"/>
                                      </tree>
                                    </field>
                                    <field name="comply_status" readonly="0"/>
                                    <field name="last_comply_hour" />
                                    <field name="last_comply_cycle" />
                                    <field name="last_comply_date" />
                                    <field name="remark" />
                                  </group>
                                  </sheet>
                                </form>
                            </field>
                      </group>
                    <group>
                      <group>
                        <group>
                          <field class="pull-right" name="create_by"/>
                          <field class="pull-right" name="checked_by"/>
                          <field class="pull-right" name="validate_by"/>
                        </group>
                      </group>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record model='ir.ui.view' id='bulletin_comply_tree'>
      <field name='name'>bulletin.comply.tree</field>
      <field name='model'>bulletin.comply</field>
      <field name='arch' type='xml'>
        <tree string='Complied Bulletin' create="false" delete="false">
          <field name="bulletin_id"/>
          <field name="date"/>
          <field name="date_finish"/>
          <field name="comply_status"/>
          <field name="ti_id"/>
          <field name="oti_id"/>
          <field name="mi_id"/>
          <field name="eo_id"/>
          <field name="not_comply_reason"/>
        </tree>
      </field>
    </record>

    <record model="ir.ui.view" id="bulletin_comply_search_view">
        <field name="name">bulletin.comply.search</field>
        <field name="model">bulletin.comply</field>
        <field name="arch" type="xml">
            <search>
                <field name="bulletin_id"/>
                <field name="date"/>
                <field name="date_finish"/>
                <field name="comply_status"/>
                <field name="ti_id"/>
                <field name="oti_id"/>
                <field name="mi_id"/>
                <field name="eo_id"/>
                <field name="not_comply_reason"/>       
            </search>
        </field>
    </record>

    <record model="ir.actions.act_window" id="bulletin_action">
        <field name="name">Modification</field>
        <field name="res_model">ams.bulletin</field>
        <field name="view_mode">tree,form</field>
    </record>

    <record model="ir.actions.act_window" id="complied_bulletin_action">
        <field name="name">Complied Bulletin</field>
        <field name="res_model">bulletin.comply</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('bulletin_id.type','!=','STC')]</field>
    </record>

    
    <record id="bulletin_agency" model="ir.actions.act_window">
        <field name="name">Authority Setup</field>
        <field name="res_model">bulletin.regulator</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
    </record>





    <record id="view_buletin_general_filter" model="ir.ui.view">
        <field name="name">ams.bulletin.select</field>
        <field name="model">ams.bulletin</field>
        <field name="arch" type="xml">
            <search string="Bulletin Type">
               <!-- <filter string="AD - Airworthiness Directive" name="filter_ad" domain="[('type','=','AD')]"/>
               <filter string="SB - Service Bulletin" name="filter_sb" domain="[('type','=','SB')]"/>
               <filter string="STC - Suplemental Type Certificate" name="filter_stc" domain="[('type','=','STC')]"/>
               <filter string="SERVICE - Service" name="filter_service" domain="[('type','=','SERVICE')]"/> -->
           </search>
        </field>
    </record>

    <record model="ir.actions.act_window" id="bulletin_ad_action">
        <field name="name">AD - Airworthiness Directive</field>
        <field name="res_model">ams.bulletin</field>
        <field name="search_view_id" ref="ams_bulletin_search_view"/>
        <field name="context">{'bulletin_type':'AD'}</field>
        <field name="domain">[('type', '=', 'AD')]</field>
        <field name="view_mode">tree,form</field>
    </record>

    <record model="ir.actions.act_window" id="bulletin_sb_action">
        <field name="name">SB - Service Bulletin</field>
        <field name="res_model">ams.bulletin</field>
        <field name="search_view_id" ref="ams_bulletin_search_view"/>
        <field name="context">{'bulletin_type':'SB'}</field>
        <field name="domain">[('type', '=', 'SB')]</field>
        <field name="view_mode">tree,form</field>
    </record>

    <record model="ir.actions.act_window" id="bulletin_stc_action">
        <field name="name">STC - Suplemental Type Certificate</field>
        <field name="res_model">ams.bulletin</field>
        <field name="search_view_id" ref="ams_bulletin_search_view"/>
        <field name="context">{'bulletin_type':'STC'}</field>
        <field name="domain">[('type', '=', 'STC')]</field>
        <field name="view_mode">tree,form</field>
    </record>

    <record model="ir.actions.act_window" id="bulletin_service_action">
        <field name="name">Service</field>
        <field name="res_model">ams.bulletin</field>
        <field name="search_view_id" ref="ams_bulletin_search_view"/>
        <field name="context">{'bulletin_type':'SERVICE'}</field>
        <field name="domain">[('type', '=', 'SERVICE')]</field>
        <field name="view_mode">tree,form</field>
    </record>

    <record model="ir.ui.view" id="bulletin_comply_tree">
      <field name="name">bulletin.comply.tree</field>
      <field name="model">bulletin.comply</field>
      <field name="arch" type="xml">
        <tree create="0" edit="0" duplicate="0">
          <field name="affected"/>
          <field name="fleet"/>
          <field name="engine"/>
          <field name="auxiliary"/>
          <field name="propeller"/>
          <field name="type"/>
          <field name="bulletin_id"/>
          <field name="date"/>
          <field name="date_finish"/>
        </tree>
      </field>
    </record>

    <record model="ir.ui.view" id="bulletin_regulator_tree">
      <field name="name">bulletin.regulator.tree</field>
      <field name="model">bulletin.regulator</field>
      <field name="arch" type="xml">
        <tree>
          <field name="name"/>
          <field name="inter"/>
        </tree>
      </field>
    </record>

    <record model="ir.ui.view" id="bulletin_regulator_search_view">
        <field name="name">bulletin.regulator.search</field>
        <field name="model">bulletin.regulator</field>
        <field name="arch" type="xml">
            <search>
              <field name="name"/>
              <field name="inter"/>       
            </search>
        </field>
    </record>

    <record model="ir.ui.view" id="bulletin_regulator_form">
      <field name="name">bulletin.regulator.form</field>
      <field name="model">bulletin.regulator</field>
      <field name="arch" type="xml">
        <form string="Bulletin Regulator">
          <group>
            <field name="name"/>
            <field name="inter"/>
          </group>
        </form>
      </field>
    </record>

    <record model="ir.ui.view" id="bulletin_comply_form">
      <field name="name">bulletin.comply.form</field>
      <field name="model">bulletin.comply</field>
      <field name="arch" type="xml">
        <form string="description" create="0" edit="0" duplicate="0">
          <sheet>
            <group>
              <field name="compliance_id" attrs="{'invisible':True}"/>
              <field name="bulletin_id" attrs="{'readonly':True}"/>

              <field name="service_life_id" attrs="{'readonly':True}"/>

              <field name="date"/>
              <field name="date_finish"/>

              <field name="type" attrs="{'readonly':True}"/>
              <field name="affected" attrs="{'readonly':True}"/>
              
              <field name="fleet" attrs="{'invisible':[('affected','!=','fleet')],'readonly':True}"/>
              <field name="engine" attrs="{'invisible':[('affected','!=','engine')],'readonly':True}"/>
              <field name="auxiliary" attrs="{'invisible':[('affected','!=','auxiliary')],'readonly':True}"/>
              <field name="propeller" attrs="{'invisible':[('affected','!=','propeller')],'readonly':True}"/>


              <field name="comply_status"/>
              <field name="not_comply_reason" attrs="{'invisible':[('comply_status','!=','ncw')]}"/>
              <field name="comply_with" attrs="{'invisible':['&amp;',('comply_status','!=','cw'),('comply_status','!=','pcw')]}"/>
              <field name="ti_id" attrs="{'invisible':['|','|',('comply_status','=','ncw'),('comply_status','=','na'),('comply_with','!=','ti')]}"/>
              <field name="oti_id" attrs="{'invisible':['|','|',('comply_status','=','ncw'),('comply_status','=','na'),('comply_with','!=','oti')]}"/>
              <field name="mi_id" attrs="{'invisible':['|','|',('comply_status','=','ncw'),('comply_status','=','na'),('comply_with','!=','mi')]}"/>
              <field name="eo_id" attrs="{'invisible':['|','|',('comply_status','=','ncw'),('comply_status','=','na'),('comply_with','!=','eo')]}"/>

              <field name="unserviceable"/>
            </group>
          </sheet>
        </form>
      </field>
    </record>


    <record model="ir.ui.view" id="bulletin_aircraft_affected_form">
      <field name="name">bulletin_aircraft_affected.form</field>
      <field name="model">bulletin.aircraft.affected</field>
      <field name="arch" type="xml">
        <form string="Affected Aircraft">
          <sheet>
            <group>
            <field name="id" attrs="{'invisible':True}"/>
            <field name="bulletin_id" attrs="{'invisible':True}"/>
            <field name="fleet_id"/>
            <field name="service_life_id" >
              <form string="Service Live">
                <sheet>
                  <group>
                    <group>
                      <field name="id" attrs="{'invisible':True}"/>
                            <field name="bulletin_affected_id" attrs="{'invisible':True}"/>
                            <field name="unit" attrs="{'invisible': ['|',('action_type','=','oncondition'),('action_type','=','conditionmonitoring')],'readonly':[('id','!=',False)]}"/>
                          </group>
                    <group>
                            <field name="action_type" attrs="{'readonly':[('id','!=',False)],'invisible':True}"/>
                            <field name="value" attrs="{'invisible': ['|',('action_type','=','oncondition'),('action_type','=','conditionmonitoring')],'readonly':True}"/>
                          </group>
                        </group>
                        <group attrs="{'invisible': ['|',('action_type','=','oncondition'),('action_type','=','conditionmonitoring')]}" col="4">
                              <field name="current" attrs="{'invisible': ['|','|',('unit','=','year'),('unit','=','month'),('unit','=','days')]}"/>
                              <field name="remaining" attrs="{'invisible': ['|','|',('unit','=','year'),('unit','=','month'),('unit','=','days')],'readonly':True}"/>
                              <field name="current_date" attrs="{'invisible': ['|','|',('unit','=','hours'),('unit','=','cycles'),('unit','=','rin')]}"/>
                              <field name="next_date" attrs="{'invisible': ['|','|',('unit','=','hours'),('unit','=','cycles'),('unit','=','rin')],'readonly':True}"/>
                        </group>
                  <group>
                            <field name="comments" attrs="{'readonly':True}"/>
                            <field name="current_text" attrs="{'invisible':True}"/>
                            <field name="next_text" attrs="{'invisible':True}"/>
                            <field name="extension" attrs="{'invisible':True}"/>
                  </group>
                  <!-- <group>
                            <field name="reset_other"/>
                            <field name="other_service_live" attrs="{'invisible':[('reset_other','=',False)]}" context="{'bulletin_affected_id':bulletin_affected_id,'service_life_id':id}">
                                <tree string='Service Life' editable="bottom">
                                  <field name="service_life_reset_id" options="{'no_create': True, 'no_create_edit':True}" domain="['&amp;',('id','!=',context.get('service_life_id',False)),('bulletin_affected_id','=',context.get('bulletin_affected_id',False))]"/>
                                </tree>
                            </field>
                  </group> -->

                </sheet>
              </form>

              <tree string='Service Life' create="false">
                              <!-- <field name="action_type"/> -->
                              <!-- <field name="ref_id" attrs="{'invisible':True}"/> -->
                              <field name="current_text" attrs="{'readonly':True}"/>
                              <!-- <field name="current_display"/> -->
                              <field name="value" attrs="{'required':True}"/>
                              <field name="extension" attrs="{'readonly':True}"/>
                              <field name="next_text" attrs="{'readonly':True}"/>
                              <!-- <field name="remaining_display"/> -->
                              <field name="unit"/>
                              <field name="comments"/>
                              <button name="do_ste" type="object" string="STE" class="oe_highlight" attrs="{'invisible':[('extension','!=',0)]}"/>
                              <button name="comply" string="Comply" type="object" class="oe_button_box" help="comply for this aircraft" attrs="{'invisible':[('id','=',False)]}"/>
                            </tree>
                      </field>
						<field name="bulletin_compliance_id" attrs="{'readonly':True}"/>
						<field name="comply_status" attrs="{'readonly':[('id','!=',False)]}"/>
						<!-- <field name="comply_with"/>
						<field name="not_comply_reason"/>
						<field name="ti_id"/>
						<field name="oti_id"/>
						<field name="mi_id"/>
						<field name="eo_id"/>
						<field name="last_comply"/> -->
    				</group>
    			</sheet>
    		</form>
    	</field>
    </record>

    <record model="ir.ui.view" id="custom_tool_movement_view_form_inherit">
      <field name="name">tool.movement.inherit.form</field>
      <field name="model">tool.movement</field>
      <field name="inherit_id" ref="ams_base.custom_tool_movement_view_form" />
      <field name="arch" type="xml">
        <xpath expr="//field[@name='refer']" position="after">
          <field name="refer_eo" attrs="{'invisible':[('refer','!=','EO')]}"/>
          <field name="refer_mi" attrs="{'invisible':[('refer','!=','MI')]}"/>
          <field name="refer_ti" attrs="{'invisible':[('refer','!=','TI')]}"/>
          <field name="refer_oti" attrs="{'invisible':[('refer','!=','OTI')]}"/>
          <field name="refer_ad" attrs="{'invisible':[('refer','!=','AD')]}" domain="[('type','=','AD')]"/>
          <field name="refer_sb" attrs="{'invisible':[('refer','!=','SB')]}" domain="[('type','=','SB')]"/>
          <field name="refer_stc" attrs="{'invisible':[('refer','!=','STC')]}" domain="[('type','=','STC')]"/>
          <field name="refer_ser" attrs="{'invisible':[('refer','!=','SERVICE')]}" domain="[('type','=','SERVICE')]"/>
        </xpath>
      </field>
    </record>

    <record model="ir.actions.act_window" id="bulletin_comply_action">
        <field name="name">Comply Bulleetin</field>
        <field name="res_model">bulletin.comply</field>
        <field name="view_mode">tree,form</field>
    </record>

    

  </data>
</odoo>